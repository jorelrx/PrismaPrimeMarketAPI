#!/bin/sh
# Pre-push hook para rodar testes antes do push

echo "ğŸ” Executando testes antes do push..."

# Roda os testes
dotnet test --no-restore --verbosity minimal

# Captura o cÃ³digo de saÃ­da
TEST_EXIT_CODE=$?

# Se os testes falharem, impede o push
if [ $TEST_EXIT_CODE -ne 0 ]; then
    echo ""
    echo "âŒ PUSH BLOQUEADO: Os testes falharam!"
    echo "   Corrija os erros antes de fazer push."
    exit 1
fi

echo "âœ… Todos os testes passaram! Prosseguindo com o push..."
exit 0
